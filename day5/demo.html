<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>函数的闭包及应用</title>
</head>
<body>
<button>btn1</button>
<button>btn2</button>
<button>btn3</button>
<button>btn4</button>
<button>btn5</button>
<button>btn6</button>
</body>
<script>
    // 斐波那契数列的改进 闭包能够提供缓存区域
    // 1 1 2 3 5 8 13 21
    /*
    function outer(){
        var arr = [];
        return function(n){
            if(n==1||n==2){
                return 1;
            }
            if(arr[n]){
                return arr[n];
            }else{
                var temp= tu(n-1)+tu(n-2);
                arr[n] = temp;
                return temp;
            }
        }

    }
    var fbn = outer();
    console.log(fbn(100));
    */



    // 打印btn的下标
    // var btns = document.querySelectorAll('button');
    // for(var i = 0; i<btns.length;i++){
    //     btns[i].onclick = function(){
    //         console.log(i);
    //     }
    // }
    // for(var i = 0; i<btns.length;i++){
    //     btns[i].onclick = function(){
    //         console.log(i);
    //     }
    // }
    // for(var i = 0; i<btns.length;i++){
    //     (function(i){
    //         btns[i].onclick = function () {
    //             console.log(i);
    //         }
    //     })(i)
    // }

    // for(var i = 0; i<btns.length;i++){
    //     btns[i].onclick = (function(i){
    //         return function(){
    //             console.log(i);
    //         }
    //     })(i)
    // }
    // btns.forEach(function (v, i) {
    //     btns[i].onclick = function () {
    //         console.log(i);
    //     }
    // })

    // 使用setTimeOut每秒打印一个数字，1,2,3,4,5
    // 第一种
    /*
    for(let i = 0; i < 10; i++){
        setTimeout(function(){
            console.log(i);
        },i*1000)
    }
    */
    // 第二种
    /*
    for(var i = 1; i < 10; i++){
        (function(i){
            setTimeout(function(){
                console.log(i);
            },i*1000)
        })(i);
    }
    */
    // 第三种
    /*
    for(var i = 1; i < 10; i++){
        var fn = (function(i){
            return function(){
                console.log(i);
            }
        })(i);
        setTimeout(fn,i*1000)
    }
    */
</script>
</html>